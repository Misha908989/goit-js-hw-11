{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"YOUR_API_KEY_HERE\";\n\n/**\n * @param {string} query\n * @returns {Promise<Object>} \n */\nexport function getImagesByQuery(query) {\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n  };\n\n  return axios.get(BASE_URL, { params }).then((response) => response.data);\n}\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryEl = document.querySelector(\"#gallery\");\nconst loaderWrapper = document.querySelector(\"#loader-wrapper\");\n\nconst lightbox = new SimpleLightbox(\".gallery__item a\", {\n  captionsGetter: false,\n  overlayOpacity: 0.85,\n});\n\n\n\n/**\n * @param {Array<Object>} images\n */\nexport function createGallery(images) {\n  const markup = images\n    .map(\n      ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <li class=\"gallery__item\">\n          <a href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n            <div class=\"card-stats\">\n              <span>\n                <span class=\"stat-label\">Likes</span>\n                <span class=\"stat-value\">${likes}</span>\n              </span>\n              <span>\n                <span class=\"stat-label\">Views</span>\n                <span class=\"stat-value\">${views}</span>\n              </span>\n              <span>\n                <span class=\"stat-label\">Comments</span>\n                <span class=\"stat-value\">${comments}</span>\n              </span>\n              <span>\n                <span class=\"stat-label\">Downloads</span>\n                <span class=\"stat-value\">${downloads}</span>\n              </span>\n            </div>\n          </a>\n        </li>`)\n    .join(\"\");\n\n  galleryEl.insertAdjacentHTML(\"beforeend\", markup);\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  galleryEl.innerHTML = \"\";\n}\n\nexport function showLoader() {\n  loaderWrapper.classList.add(\"active\");\n}\n\nexport function hideLoader() {\n  loaderWrapper.classList.remove(\"active\");\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getImagesByQuery } from \"./js/pixabay-api.js\";\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from \"./js/render-functions.js\";\n\nconst form = document.querySelector(\"#search-form\");\nconst searchInput = document.querySelector(\"#search-input\");\n\nconst toastBase = {\n  theme: \"dark\",\n  position: \"topRight\",\n  timeout: 5000,\n  closeOnClick: true,\n};\n\nform.addEventListener(\"submit\", onSubmit);\n\nfunction onSubmit(evt) {\n  evt.preventDefault();\n\n  const query = searchInput.value.trim();\n\n  if (!query) {\n    iziToast.warning({\n      ...toastBase,\n      title: \"Warning\",\n      message: \"Please enter a search keyword.\",\n    });\n    return;\n  }\n\n  clearGallery();\n\n  showLoader();\n\n  getImagesByQuery(query)\n    .then((data) => {\n      hideLoader();\n\n      const images = data.hits;\n\n      if (images.length === 0) {\n        iziToast.error({\n          ...toastBase,\n          title: \"No results\",\n          message:\n            \"Sorry, there are no images matching your search query. Please try again!\",\n        });\n        return;\n      }\n\n      createGallery(images);\n    })\n    .catch(() => {\n      hideLoader();\n\n      iziToast.error({\n        ...toastBase,\n        title: \"Error\",\n        message:\n          \"Something went wrong. Please check your connection and try again.\",\n      });\n    });\n}"],"names":["BASE_URL","API_KEY","getImagesByQuery","query","params","axios","response","galleryEl","loaderWrapper","lightbox","SimpleLightbox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","searchInput","toastBase","onSubmit","evt","iziToast","data"],"mappings":"+vBAEA,MAAMA,EAAW,2BACXC,EAAU,oBAMT,SAASC,EAAiBC,EAAO,CACtC,MAAMC,EAAS,CACb,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAEE,OAAOE,EAAM,IAAIL,EAAU,CAAE,OAAAI,CAAM,CAAE,EAAE,KAAME,GAAaA,EAAS,IAAI,CACzE,CChBA,MAAMC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAgB,SAAS,cAAc,iBAAiB,EAExDC,EAAW,IAAIC,EAAe,mBAAoB,CACtD,eAAgB,GAChB,eAAgB,GAClB,CAAC,EAOM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,qBAE/DL,CAAa;AAAA,wBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,2CAIPC,CAAK;AAAA;AAAA;AAAA;AAAA,2CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,2CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,2CAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,cAItC,EACT,KAAK,EAAE,EAEVb,EAAU,mBAAmB,YAAaM,CAAM,EAChDJ,EAAS,QAAO,CAClB,CAEO,SAASY,GAAe,CAC7Bd,EAAU,UAAY,EACxB,CAEO,SAASe,GAAa,CAC3Bd,EAAc,UAAU,IAAI,QAAQ,CACtC,CAEO,SAASe,GAAa,CAC3Bf,EAAc,UAAU,OAAO,QAAQ,CACzC,CChDA,MAAMgB,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAc,SAAS,cAAc,eAAe,EAEpDC,EAAY,CAChB,MAAO,OACP,SAAU,WACV,QAAS,IACT,aAAc,EAChB,EAEAF,EAAK,iBAAiB,SAAUG,CAAQ,EAExC,SAASA,EAASC,EAAK,CACrBA,EAAI,eAAc,EAElB,MAAMzB,EAAQsB,EAAY,MAAM,KAAI,EAEpC,GAAI,CAACtB,EAAO,CACV0B,EAAS,QAAQ,CACf,GAAGH,EACH,MAAO,UACP,QAAS,gCACf,CAAK,EACD,MACD,CAEDL,IAEAC,IAEApB,EAAiBC,CAAK,EACnB,KAAM2B,GAAS,CACdP,IAEA,MAAMX,EAASkB,EAAK,KAEpB,GAAIlB,EAAO,SAAW,EAAG,CACvBiB,EAAS,MAAM,CACb,GAAGH,EACH,MAAO,aACP,QACE,0EACZ,CAAS,EACD,MACD,CAEDf,EAAcC,CAAM,CAC1B,CAAK,EACA,MAAM,IAAM,CACXW,IAEAM,EAAS,MAAM,CACb,GAAGH,EACH,MAAO,QACP,QACE,mEACV,CAAO,CACP,CAAK,CACL"}